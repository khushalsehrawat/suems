services:
  - type: web
    name: suems-backend
    env: docker
    plan: free
    branch: main
    buildCommand: ./mvnw clean package -DskipTests
    startCommand: java -jar target/*.jar
    dockerfilePath: ./Dockerfile
    envVars:
      - key: SPRING_DATASOURCE_URL
        value: jdbc:mysql://<your-db-host>:3306/<your-db-name>
      - key: SPRING_DATASOURCE_USERNAME
        value: <your-username>
      - key: SPRING_DATASOURCE_PASSWORD
        value: <your-password>

  - type: web
    name: suems-frontend
    env: docker
    plan: free
    branch: main
    dockerfilePath: ./frontend/Dockerfile
    autoDeploy: true
    envVars:
      - key: NODE_ENV
        value: production
